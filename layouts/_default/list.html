{{ define "main" }}
<section>
  <!-- Banner Section -->
  {{ if .Params.banner_image }}
  <div class="relative w-full h-48 md:h-64"
    style="background-image: url('{{ .Params.banner_image }}'); {{ if .Params.banner_position }}background-position: {{ .Params.banner_position }};{{ else }}background-position: center;{{ end }} {{ if .Params.banner_size }}background-size: {{ .Params.banner_size }};{{ else }}background-size: cover;{{ end }}">
    <!-- Optional Overlay (if needed) -->
    <div class="absolute inset-0 bg-black bg-opacity-30"></div>
  </div>
  {{ end }}

  <!-- Title Bar -->
  <div class="bg-gray-900 text-white py-4">
    <h1 class="text-3xl font-bold text-center">{{ .Title }}</h1>
  </div>

  <!-- Main Content -->
  <div class="max-w-7xl mx-auto px-4 py-8">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
      <!-- Size Table (Left) -->
      {{ if .Params.size_table }}
      <div class="lg:col-span-4">
        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
          <div class="bg-gray-50 px-4 py-3 border-b">
            <h3 class="text-base font-semibold text-gray-800">Available Sizes</h3>
          </div>
          <div class="p-4">
            <img src="{{ .Params.size_table }}" alt="{{ .Title }} - Available Sizes"
              class="w-full h-auto rounded-md shadow-sm hover:shadow-md transition-shadow duration-300">
          </div>
        </div>
      </div>
      {{ end }}

      <!-- Text Content (Middle - Optional) -->
      {{ if .Content }}
      <div
        class="{{ if and .Params.size_table .Params.featured_image }}lg:col-span-4{{ else if or .Params.size_table .Params.featured_image }}lg:col-span-8{{ else }}lg:col-span-12{{ end }}">
        <div class="prose max-w-none text-gray-700">
          {{ .Content | safeHTML }}
        </div>
      </div>
      {{ end }}

      <!-- Featured Image (Right) -->
      {{ if .Params.featured_image }}
      <div
        class="{{ if and .Params.size_table .Content }}lg:col-span-4{{ else if or .Params.size_table .Content }}lg:col-span-8{{ else }}lg:col-span-12{{ end }}">
        <div class="p-4 flex justify-start items-start">
          <img src="{{ .Params.featured_image }}" alt="{{ .Title }}" class="rounded shadow-lg object-contain"
            style="{{ if .Params.featured_image_size }}width: {{ .Params.featured_image_size }};{{ else }}width: 100%;{{ end }} height: auto;">
        </div>
      </div>
      {{ end }}
    </div>
  </div>

  <!-- Spec Table - Full Width Below -->
  {{ if .Params.spec_table }}
  <div class="max-w-7xl mx-auto px-4 pb-8">
    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
      <div class="bg-gray-50 px-6 py-4 border-b">
        <h3 class="text-lg font-semibold text-gray-800">Technical Specifications</h3>
      </div>
      <div class="p-6">
        <img src="{{ .Params.spec_table }}" alt="{{ .Title }} - Technical Specifications"
          class="w-full h-auto rounded-md shadow-sm hover:shadow-md transition-shadow duration-300">
      </div>
    </div>
  </div>
  {{ end }}
</section>
{{ end }}