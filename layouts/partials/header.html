<header class="bg-[#004B93] text-white">
  <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
    <!-- Logo/Brand Name -->
    <a href="/" class="flex items-center space-x-2">
      <img src="/images/PS_logo.png" alt="Logo" class="h-8 w-auto" />
      <span class="text-xl font-bold">Michelin Tires</span>
    </a>

    <!-- Desktop Nav -->
    <nav class="hidden md:flex items-center space-x-6">
      <a href="/" class="hover:text-[#FFCD00] transition-colors">Home</a>

      <!-- Rally Dropdown -->
      <div class="relative inline-block">
        <button 
          class="hover:text-[#FFCD00] transition-colors"
          onclick="toggleDropdown('rally-dropdown')"
        >
          Rally
        </button>
        <div 
          id="rally-dropdown"
          class="hidden absolute left-0 mt-2 bg-[#004B93] text-white py-2 rounded shadow-lg z-50"
        >
          <a href="/rally/asphalt" class="block px-4 py-2 hover:bg-[#003366]">Asphalt</a>
          <a href="/rally/gravel_and_autocross" class="block px-4 py-2 hover:bg-[#003366]">Gravel &amp; Autocross</a>
          <a href="/rally/snow_and_ice" class="block px-4 py-2 hover:bg-[#003366]">Snow &amp; Ice</a>
        </div>
      </div>

      <!-- Circuit Dropdown -->
      <div class="relative inline-block">
        <button 
          class="hover:text-[#FFCD00] transition-colors"
          onclick="toggleDropdown('circuit-dropdown')"
        >
          Circuit
        </button>
        <div 
          id="circuit-dropdown"
          class="hidden absolute left-0 mt-2 bg-[#004B93] text-white py-2 rounded shadow-lg z-50"
        >
          <a href="/circuit/prototype_formula" class="block px-4 py-2 hover:bg-[#003366]">Prototype Formula</a>
          <a href="/circuit/touring_and_gt" class="block px-4 py-2 hover:bg-[#003366]">Touring &amp; GT</a>
          <a href="/circuit/porsche_cup_tyres" class="block px-4 py-2 hover:bg-[#003366]">Porsche Cup Tyres</a>
        </div>
      </div>

      <a href="/hillclimbing" class="hover:text-[#FFCD00] transition-colors">Hillclimbing</a>
      <a href="/raid" class="hover:text-[#FFCD00] transition-colors">Raid</a>
      <a href="/contact" class="hover:text-[#FFCD00] transition-colors">Contact Us</a>
    </nav>

    <!-- Mobile Menu Button -->
    <div class="md:hidden">
      <button id="mobile-menu-button" class="text-white focus:outline-none hover:text-[#FFCD00]">
        <svg class="h-6 w-6 fill-current" viewBox="0 0 24 24">
          <path d="M3 6h18M3 12h18M3 18h18" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Nav (Use nested menus or just show all as links) -->
  <div id="mobile-menu" class="md:hidden hidden bg-[#004B93]">
    <nav class="px-2 pb-3 space-y-1">
      <a href="/" class="block px-3 py-2 hover:bg-[#003366] rounded">Home</a>
      <!-- Direct sub-links for Rally -->
      <a href="/rally/asphalt" class="block px-3 py-2 hover:bg-[#003366] rounded">Asphalt (Rally)</a>
      <a href="/rally/gravel_and_autocross" class="block px-3 py-2 hover:bg-[#003366] rounded">Gravel &amp; Autocross (Rally)</a>
      <a href="/rally/snow_and_ice" class="block px-3 py-2 hover:bg-[#003366] rounded">Snow &amp; Ice (Rally)</a>

      <!-- Circuit sub-links -->
      <a href="/circuit/prototype_formula" class="block px-3 py-2 hover:bg-[#003366] rounded">Prototype Formula (Circuit)</a>
      <a href="/circuit/touring_and_gt" class="block px-3 py-2 hover:bg-[#003366] rounded">Touring &amp; GT (Circuit)</a>
      <a href="/circuit/porsche_cup_tyres" class="block px-3 py-2 hover:bg-[#003366] rounded">Porsche Cup Tyres (Circuit)</a>

      <a href="/hillclimbing" class="block px-3 py-2 hover:bg-[#003366] rounded">Hillclimbing</a>
      <a href="/raid" class="block px-3 py-2 hover:bg-[#003366] rounded">Raid</a>
      <a href="/contact" class="block px-3 py-2 hover:bg-[#003366] rounded">Contact Us</a>
    </nav>
  </div>

  <script>
    // Toggle for mobile menu
    document.getElementById('mobile-menu-button').addEventListener('click', () => {
      const mobileMenu = document.getElementById('mobile-menu');
      mobileMenu.classList.toggle('hidden');
    });

    // Toggle for desktop dropdowns
    function toggleDropdown(dropdownId) {
      // If you want only one dropdown open at a time, close any other open dropdown here
      // For now, we just toggle the given dropdown
      const dropdown = document.getElementById(dropdownId);
      dropdown.classList.toggle('hidden');
    }
  </script>
</header>
